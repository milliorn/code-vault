<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Visualization</title>
  </head>
  <body></body>
  <script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

    const dataset = ["a", "b", "c"];

    const div = d3.select("body").append("h1").text("Learning D3");
    const selectLi = d3.selectAll("li").text("list item");
    const enter = d3
      .select("body")
      .selectAll("h2")
      .data(dataset)
      .enter()
      .append("h2")
      .text("New Title");

    const newEnter = d3
      .select("body")
      .selectAll("h2")
      .data(dataset)
      .enter()
      .append("h2")
      .text((d) => d + " USD");

    const style = d3
      .select("body")
      .selectAll("h2")
      .data(dataset)
      .enter()
      .append("h2")
      .text((d) => d + " USD")
      .style("font-family", "verdana");

    const newStyle = d3
      .select("body")
      .selectAll("h2")
      .data(dataset)
      .enter()
      .append("h2")
      .text((d) => d + " USD")
      .style("color", (d) => {
        return d < 20 ? "red" : "green";
      });

    const attr = d3
      .select("body")
      .selectAll("h2")
      .data(dataset)
      .enter()
      .append("h2")
      .text((d) => d + " USD")
      .attr("class", "bar");

    const height = d3
      .select("body")
      .selectAll("div")
      .data(dataset)
      .enter()
      .append("div")
      .attr("class", "bar")
      .style("height", (d) => d);

    const margin = d3
      .select("body")
      .selectAll("div")
      .data(dataset)
      .enter()
      .append("div")
      .attr("class", "bar")
      .style("height", (d) => d * 10 + "px")
      .style("margin", (d) => "2px");

    const w = 500;
    const h = 100;

    const svg = d3
      .select("body")
      .append("svg")
      .style("width", w)
      .style("height", h);

    const svgRect = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h)
      .append("rect")
      .attr("width", 25)
      .attr("height", 100)
      .attr("x", 0)
      .attr("y", 0);

    const svgBAr = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h)
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", 0)
      .attr("y", 0)
      .attr("width", 25)
      .attr("height", 100);

    const foEacsvg = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h)
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", 0)
      .attr("y", 0)
      .attr("width", 25)
      .attr("height", 100);

    const dynsvg = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h);

    const barsvg = d3
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", (d, i) => {
        return i * 30;
      })
      .attr("y", (d, i) => {
        return h - 3 * d;
      })
      .attr("width", 25)
      .attr("height", (d, i) => {
        return d * 3;
      })
      .attr("fill", "navy");

    barsvg
      .selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .attr("x", (d, i) => {
        return i * 30;
      })
      .attr("y", (d, i) => {
        return h - 3 * d - 3;
      })
      .text((d) => d);

    const styleSvg = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h);

    styleSvg
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - 3 * d)
      .attr("width", 25)
      .attr("height", (d, i) => d * 3)
      .attr("fill", "navy");

    styleSvg
      .selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .text((d) => d)
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - 3 * d - 3)
      .style("font-size", "25px")
      .style("fill", "red");

    const hoverSvg = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h);

    hoverSvg
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - 3 * d)
      .attr("width", 25)
      .attr("height", (d, i) => 3 * d)
      .attr("fill", "navy")
      .attr("class", "bar");

    hoverSvg
      .selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .text((d) => d)
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - 3 * d - 3);

    const tooltip = d3
      .select("body")
      .append("svg")
      .attr("width", w)
      .attr("height", h);

    tooltip
      .selectAll("rect")
      .data(dataset)
      .enter()
      .append("rect")
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - 3 * d)
      .attr("width", 25)
      .attr("height", (d, i) => d * 3)
      .attr("fill", "navy")
      .attr("class", "bar")
      .append("title")
      .text((d) => d);

    tooltip
      .selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .text((d) => d)
      .attr("x", (d, i) => i * 30)
      .attr("y", (d, i) => h - (d * 3 + 3));

    const datasetScatterplot = [
      [34, 78],
      [109, 280],
      [310, 120],
      [79, 411],
      [420, 220],
      [233, 145],
      [333, 96],
      [222, 333],
      [78, 320],
      [21, 123],
    ];

    const wScatterplot = 500;
    const hScatterplot = 500;

    const svgScatterplot = d3
      .select("body")
      .append("svg")
      .attr("width", wScatterplot)
      .attr("height", hScatterplot);

    svgScatterplot
      .selectAll("circle")
      .data(dataset)
      .enter()
      .append("circle")
      .attr("cy", (d) => h - d[1])
      .attr("cx", (d) => d[0])
      .attr("r", 5);

    svgScatterplot
      .selectAll("text")
      .data(dataset)
      .enter()
      .append("text")
      .attr("x", (d) => d[0] + 5)
      .attr("y", (d) => h - d[1])
      .text((d) => d[0] + ", " + d[1]);

    const scale = d3.scaleLinear();
    scale.domain([250, 500]).range([10, 150]);
    const output = scale(50);
    d3.select("body").append("h2").text(output);

    const positionData = [
      [1, 7, -4],
      [6, 3, 8],
      [2, 9, 3],
    ];

    const outputpositionData = d3.max(positionData, (d) => d[2]);
    d3.select("body").append("h2").text(outputPosData);

    const padding = 30;

    const xScale = d3
      .scaleLinear()
      .domain([0, d3.max(dataset, (d) => d[0])])
      .range([padding, w - padding]);

    const yScale = d3
      .scaleLinear()
      .domain([0, d3.max(dataset, (d) => d[1])])
      .range([h - padding, padding]);

    const outputScaleY = yScale(411);
    d3.select("body").append("h2").text(outputScaleY);
    
  </script>
</html>
